<div class="dark:border-primary-darker flex items-center justify-between border-b px-4 py-4 lg:py-6">
  <h1 class="flex-grow text-2xl font-semibold">{{ 'pages.admin.vulnerabilityreports.title' | translate }}</h1>
</div>

<div class="flex flex-row-reverse xl:pt-2 xl:pr-2">
  <app-export-button class="m-2" [exportObjects]="exportReport()" [filename]="'policy'"></app-export-button>
  <button
    (click)="refresh()"
    class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark float-left m-2 max-h-10 rounded-md bg-green-700 px-4 py-2 text-sm text-white focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
  >
    {{ 'common.refresh' | translate }}
  </button>
</div>

<div class="dark:bg-darker rounded-md bg-white xl:m-2 xl:p-2">
  <p-tabView styleClass="tabview" [(activeIndex)]="activeIndex">
    <p-tabPanel>
      <ng-template pTemplate="header">
        <i class="pi pi-server"></i>
        <span class="ml-2">{{ 'pages.admin.vulnerabilityreports.clusterSummary.title' | translate }}</span>
      </ng-template>
      <ng-template pTemplate="content">
        <app-vulnerability-reports-by-cluster #clustertable (reports)="updateSummaryPerCluster($event)"></app-vulnerability-reports-by-cluster>
      </ng-template>
    </p-tabPanel>
    <p-tabPanel>
      <ng-template pTemplate="header">
        <i class="pi pi-server"></i>
        <span class="ml-2">{{ 'pages.admin.vulnerabilityreports.cveid.title' | translate }}</span>
      </ng-template>
      <ng-template pTemplate="content">
        <app-vulnerability-reports-by-cve #cvetable (reports)="updateSummaryById($event)"></app-vulnerability-reports-by-cve>
      </ng-template>
    </p-tabPanel>
  </p-tabView>
</div>
